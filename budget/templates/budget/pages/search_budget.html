{% load static %}
{% include "budget/partials/head.html" %}



<body>
  {% include "global/partials/header.html" %}
 
   <main>
    <main>
      <div class="content">
        <div class="sub_menu">
          <a href="/budget"><button>Painel</button></a>
          <a href="/budget/new_budget/"><button>Novo Orçamento</button></a>
        </div>
        
        <h1>Buscar Orçamento</h1>
        
        <div class="search-budget-form">
          <form action="/budget/filtrar_budget/" method='post'>
            <input type="date" name="date_inicial" placeholder="Data Inicial">
            <input type="date" name="date_final" placeholder="Data Final">
            
            <select name="cliente">
              <option value="">Cliente</option>
              {% for cliente in clientes %}
                <option value="{{ cliente.id }}">{{ cliente.nome }}</option>
              {% endfor %}
            </select>
            
            <select name="vendedor">
              <option value="">Vendedor</option>
              {% for vendedor in vendedores %}
                <option value="{{ vendedor.id }}">{{ vendedor.nome }}</option>
              {% endfor %}
            </select>
            
            <input type="text" name="cpf" placeholder="CPF">
            <input type="text" name="number_budget" placeholder="Número do Orçamento">
            
            <button type="submit">Filtrar</button>
          </form>
        </div>
        
        <h3>Orçamentos Encontrados</h3>
        
        <table class="budget-table">
          <thead>
            <tr>
              <th>Número do Orçamento</th>
              <th>Cliente</th>
              <th>Data do Orçamento</th>
              <th>Total</th>
              <th>Açoes</th>
            </tr>
          </thead>
          <tbody>
            {% for orcamento in budget %}
            <tr>
              <td>{{ orcamento.number_budget }}</td>
              <td>{{ orcamento.cliente }}</td>
              <td>{{ orcamento.data_orcamento }}</td>
              <td>R$ {{ orcamento.total }}</td>
              <td>
                <a href="/budget/new-sale/{{orcamento.number_budget}}"><img class='icons' src="{% static "budget/img/money.png" %}" alt="Faturar"></a>
                <a href=""><img class='icons' src="{% static "budget/img/edit.png" %}" alt="Editar"></a>
                <a href=""><img class='icons' src="{% static "budget/img/remove.png" %}" alt="Excluir"></a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
        
        
      
      </div>
      <footer>aqui está o footer</footer>
    </main>

    {% comment %} <tbody id="dados">
      {% for item in cart %}
        <tr>
          <td>{{ item.name_product }}</td>
          <td>{{ item.quantidade }}</td>
          <td>{{ item.valor_uni }}</td>
          <td data-valor="{{ item.valor_total }}">{{ item.valor_total }}</td>
          <td>
            <a class="edit-item" href="">
              <img class="icons" src="{% static "budget/img/edit.png" %}" alt="">
            </a>
            <a class="delete_cart" href="/budget/excluir_produto/{{item.id}}">
              <img class="icons" src="{% static "budget/img/remove.png" %}" alt="delete">
            </a>
            </td>
        </tr>
      {% endfor %}
    </tbody> {% endcomment %}

    <style>
      .icons{
        width: 2em;
        margin-left: 2em;
      }
      .actions_icons{
        border: none;
        background-color: transparent;
        cursor: pointer;
      }
      .content {
  width: 85vw;
  display: flex;
  flex-direction: column;
}

.search-budget-form {
  padding: 20px;
  border: 1px solid black;
  border-radius: 10px;
  margin: 2em;
  display: flex;
  flex-direction: column;
  gap: 1em;
}

.search-budget-form input, .search-budget-form select, .search-budget-form button {
  padding: 0.5em;
  border-radius: 5px;
  border: 1px solid #ccc;
  font-size: 1em;
}

.search-budget-form button {
  background-color: #007bff;
  color: white;
  font-weight: bold;
  cursor: pointer;
}

.budget-list {
  padding: 20px;
  border-radius: 10px;
  margin: 2em;
  display: flex;
  flex-direction: column;
  gap: 1em;
  border: 2px solid black;
}

.budget-item {
  padding: 1em;
  border: 1px solid #ccc;
  border-radius: 10px;
  background-color: #f9f9f9;
}

.budget-item p {
  margin: 0.5em 0;
  font-weight: bold;
}

.budget-table {
  width: 100%;
  border-collapse: collapse;
  margin: 20px 0;
  font-size: 1.1em;
  font-family: Arial, sans-serif;
}

.budget-table th, .budget-table td {
  padding: 12px 15px;
  border: 1px solid #ddd;
  text-align: left;
}

.budget-table th {
  background-color: #007bff;
  color: white;
}

.budget-table tr:nth-child(even) {
  background-color: #f2f2f2;
}

.budget-table tr:hover {
  background-color: #ddd;
}

    </style>

   
 
 
</body>
</html>