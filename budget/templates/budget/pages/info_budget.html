{% load static %}
{% include "budget/partials/head.html" %}

<body>
  <header>
    {% include "global/partials/header.html" %}
  </header>

  <main class="content">
    <!-- Título da página -->
    <h1>Relatórios de Orçamento</h1>

    <!-- Área de detalhes do orçamento principal -->
    <fieldset class="area-relatorio">
      <legend>Detalhes do Orçamento</legend>
      <table class="info-principal">
        <tr>
          <td>Número:</td>
          <td>{{ budget.number_budget }}</td>
        </tr>
        <tr>
          <td>Data:</td>
          <td>{{ budget.data_orcamento }}</td>
        </tr>
        <tr>
          <td>Cliente:</td>
          <td>{{ budget.cliente.nome }}</td>
        </tr>
        <tr>
          <td>CPF/CNPJ:</td>
          <td>{{ budget.cpf_cnpj_cliente }}</td>
        </tr>
        <tr>
          <td>Total:</td>
          <td>{{ budget.total }}</td>
        </tr>
      </table>
    </fieldset>

    <!-- Tabela de itens do orçamento -->
    <fieldset class="infos">
      <legend>Itens do Orçamento</legend>
      <table id="tabela-relatorios">
        <thead>
          <tr>
            <th>ID</th>
            <th>Descrição</th>
            <th>Código</th>
            <th>Quantidade</th>
            <th>Valor Unitário</th>
            <th>Valor Total</th>
            <th>Opções</th>
          </tr>
        </thead>
        <tbody>
          {% for relatorio in budget_info %}
            <tr>
              <td>{{ relatorio.produto.id }}</td>
              <td>{{ relatorio.produto.nome }}</td>
              <td>{{ relatorio.produto.codigo }}</td>
              <td>{{ relatorio.quantidade }}</td>
              <td>{{ relatorio.valor_unitario }}</td>
              <td>{{ relatorio.valor_total }}</td>
              <td>
                <a class="delete-report" href="/budget/excluir_relatorio/{{ relatorio.id }}">
                  <img class="icons" src="{% static 'budget/img/remove.png' %}" alt="Remover">
                </a>
              </td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </fieldset>
  </main>

  <style>
    /* Estilo Geral */
    body {
      margin: 0;
      font-family: Arial, sans-serif;
    }

    header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background-color: #007bff;
      padding: 1em;
      color: white;
      text-align: center;
      z-index: 1000;
    }
    

    .content {
      margin-top:100px;
      padding-top: 80px;
      width: 85%;
      margin: auto;
    }

    h1 {
      font-size: 2em;
      margin-bottom: 1em;
      text-align: center;
    }

    fieldset {
      border: 1px solid #ddd;
      border-radius: 10px;
      padding: 1em;
      margin-top: 1em;
    }

    legend {
      font-weight: bold;
      font-size: 1.2em;
    }

    table {
      width: 100%;
      border-collapse: collapse;
    }

    th, td {
      padding: 0.5em;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #f1f1f1;
    }

    .icons {
      width: 1.5em;
    }

    /* Responsividade */
    @media (max-width: 1024px) {
      .content {
        width: 90%;
      }
    }

    @media (max-width: 768px) {
      table {
        font-size: 0.9em;
      }

      th, td {
        padding: 0.3em;
      }
    }

    @media (max-width: 480px) {
      h1 {
        font-size: 1.5em;
      }

      table {
        font-size: 0.8em;
      }

      .icons {
        width: 1em;
      }
    }
  </style>

  <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
